:root{
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --safe-left: env(safe-area-inset-left, 0px);
  --safe-right: env(safe-area-inset-right, 0px);

  --bg: #0f1115;
  --card: rgba(255,255,255,0.06);
  --text: #e8eaed;
  --hint: rgba(232,234,237,0.65);
  --line: rgba(255,255,255,0.10);

  --accent: #2ea6ff;
  --radius: 14px;
  --font: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,Arial,sans-serif;
  --topbar-h: 52px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }

body{
  margin:0;
  font-family:var(--font);
  color:var(--text);
  background:transparent;      /* важно: прозрачный фон */
  overflow:hidden;             /* убираем двойной скролл (скроллит только .content) */
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

.app{
  height:100%;
  padding-left:var(--safe-left);
  padding-right:var(--safe-right);
}

.topbar{
  position:sticky;
  top:0;
  z-index:10;
  height:var(--topbar-h);
  padding-top:var(--safe-top);
  padding-left:12px;
  padding-right:12px;

  display:grid;
  grid-template-columns:44px 1fr 44px;
  align-items:center;

  background:rgba(0,0,0,0.10);
  backdrop-filter: blur(10px);
  border-bottom:1px solid var(--line);
}

.topbar__title{
  text-align:center;
  font-weight:800;
  font-size:16px;
  user-select:none;
}

.topbar__right{
  justify-self:end;
  display:flex;
  gap:8px;
  align-items:center;
}

.icon-btn{
  height:36px;
  width:36px;
  border-radius:12px;
  border:1px solid var(--line);
  background:rgba(255,255,255,0.05);
  color:var(--text);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
}
.icon-btn:active{ transform:translateY(1px); }

.content{
  height:calc(100% - var(--topbar-h));
  overflow-y:auto;             /* единственный скролл */
  -webkit-overflow-scrolling:touch;
  padding-bottom:calc(14px + var(--safe-bottom));
}

.container{
  padding:14px 14px 0 14px;
  max-width:820px;
  margin:0 auto;
}

.h1{
  margin:4px 0 10px 0;
  font-size:18px;
  font-weight:900;
}

.sub{
  margin:0 0 14px 0;
  color:var(--hint);
  font-size:13px;
}

.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:var(--radius);
}
.card.pad{ padding:14px; }

.section-title{
  margin:16px 0 10px;
  font-size:13px;
  color:var(--hint);
}

.grid{
  display:grid;
  gap:10px;
}
.grid.stats{
  grid-template-columns:repeat(2, minmax(0,1fr));
}
@media (min-width:520px){
  .grid.stats{ grid-template-columns:repeat(4, minmax(0,1fr)); }
}

.stat{
  padding:12px;
  border-radius:var(--radius);
  background:var(--card);
  border:1px solid var(--line);
}
.stat__label{
  color:var(--hint);
  font-size:12px;
  margin-bottom:6px;
  line-height:1.2;
}
.stat__value{
  font-size:16px;
  font-weight:900;
}
.stat__value.small{ font-size:14px; }

.tiles{
  display:grid;
  grid-template-columns:repeat(2, minmax(0,1fr));
  gap:10px;
}
@media (min-width:520px){
  .tiles{ grid-template-columns:repeat(3, minmax(0,1fr)); }
}

.tile{
  padding:12px;
  border-radius:var(--radius);
  background:var(--card);
  border:1px solid var(--line);
  cursor:pointer;
  user-select:none;
}
.tile:active{ transform:translateY(1px); }
.tile__top{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}
.tile__icon{ font-size:18px; }
.tile__name{ font-weight:900; font-size:13px; }
.tile__hint{ margin-top:6px; color:var(--hint); font-size:12px; }

.chips{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}
.chip{
  padding:8px 10px;
  border-radius:999px;
  border:1px solid var(--line);
  background:rgba(255,255,255,0.04);
  cursor:pointer;
  user-select:none;
  font-size:12px;
  font-weight:800;
}
.chip.active{
  background:rgba(46,166,255,0.18);
  border-color:rgba(46,166,255,0.35);
}

.list{ display:grid; gap:10px; }

.item{
  padding:12px;
  border-radius:var(--radius);
  background:var(--card);
  border:1px solid var(--line);
  cursor:pointer;
}
.item:active{ transform:translateY(1px); }
.item__head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}
.item__title{ font-weight:900; }
.item__meta{
  margin-top:6px;
  color:var(--hint);
  font-size:12px;
  line-height:1.35;
}

.badge{
  font-size:12px;
  padding:6px 9px;
  border-radius:999px;
  border:1px solid var(--line);
  background:rgba(255,255,255,0.04);
  white-space:nowrap;
}

.btn{
  width:100%;
  padding:12px;
  border-radius:14px;
  border:1px solid rgba(46,166,255,0.35);
  background:rgba(46,166,255,0.18);
  color:var(--text);
  font-weight:900;
  cursor:pointer;
}
.btn:active{ transform:translateY(1px); }

.hr{
  height:1px;
  background:var(--line);
  margin:12px 0;
}

.kv{ display:grid; gap:8px; }
.kv__row{
  display:flex;
  justify-content:space-between;
  gap:10px;
  color:var(--hint);
  font-size:13px;
}
.kv__row b{ color:var(--text); font-weight:900; }

.toast{
  position:fixed;
  left:50%;
  bottom:calc(14px + var(--safe-bottom));
  transform:translateX(-50%);
  background:rgba(0,0,0,0.55);
  border:1px solid rgba(255,255,255,0.14);
  color:var(--text);
  padding:10px 12px;
  border-radius:999px;
  font-size:12px;
  opacity:0;
  pointer-events:none;
  transition:opacity .2s ease;
  max-width:90vw;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.toast.show{ opacity:1; }
